class Router{constructor(t,e){if(!t.hasAttribute(Router.CONST.ROUTER_ATTRIBUTE))throw`router element requires ${Router.CONST.ROUTER_ATTRIBUTE} attribute`;this.router=t,this.transitionStyle=e||"visibility 0s, opacity 0.5s linear",this.sectionCollection=[],this.currentSection=null,this.setSections(),this.routeTo(this.getCurrentHash()),window.addEventListener("hashchange",this.onHashChange.bind(this),!1)}setSections(){this.sectionCollection=this.router.querySelectorAll(`[${Router.CONST.SECTION_ROUTE_ATTRIBUTE}]`),this.sectionCollection.forEach(t=>{this.hideSection(t)})}hideSection(t){t.style.position="absolute",t.style.visibility="hidden",t.style.opacity="0",t.style.transition=this.transitionStyle}showSection(t){this.currentSection&&this.hideSection(this.currentSection),this.currentSection=t,t.style.visibility="visible",t.style.opacity="1"}getCurrentHash(){let t=window.location.hash;return t||"#/"}routeTo(t,e){let i=t.replace("#",""),o=this.router.querySelector(`[${Router.CONST.SECTION_ROUTE_ATTRIBUTE}="${i}"]`);o?(this.showSection(o),e||history.pushState(null,null,t)):((o=this.router.querySelector(`[${Router.CONST.SECTION_ROUTE_ATTRIBUTE}="/"]`))&&this.showSection(o),e||history.pushState(null,null,"#/"))}onHashChange(){this.routeTo(this.getCurrentHash(),!0)}}Router.CONST={ROUTER_ATTRIBUTE:"data-router",SECTION_ROUTE_ATTRIBUTE:"data-route"};